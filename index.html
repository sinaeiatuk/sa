<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ØµÙ†Ø§Ø¹ÙŠØªÙƒ| ØµÙ†Ø§Ø¹ÙŠØªÙƒ ØµØ§Ø±Øª ÙÙŠ ÙŠØ¯Ùƒ</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ØªØ­Ø¯ÙŠØ¯ Ø­Ø¬Ù… Ø§Ù„Ø­Ø§ÙˆÙŠØ© */
.site-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    max-height: 60px; /* ÙŠÙ…Ù†Ø¹ Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ù…Ù† Ø§Ù„ØªÙ…Ø¯Ø¯ */
}

/* Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ Ø§Ù„Ø£Ù‡Ù… Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© */
.site-logo img {
    height: 40px !important; /* Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ */
    width: auto !important;   /* Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„ØµÙˆØ±Ø© */
    display: block;
    object-fit: contain;
}


 .skeleton{
  background:#e5e7eb;
  border-radius:16px;
  overflow:hidden;
  position:relative;
}

.skeleton::after{
  content:"";
  position:absolute;
  top:0;
  left:-100%;
  width:100%;
  height:100%;
  background:linear-gradient(
    90deg,
    transparent,
    rgba(255,255,255,.6),
    transparent
  );
  animation: shimmer 1.2s infinite;
}

@keyframes shimmer{
  100%{left:100%}
}

.skeleton-img{
  height:160px;
  background:#d1d5db;
}

.skeleton-text{
  height:14px;
  margin:14px;
  background:#d1d5db;
  border-radius:6px;
}



  
/* ===== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ===== */
/* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„ÙƒØ¨Ø±Ù‰ */
.auth-box {
    display: flex;
    justify-content: space-between; /* ÙŠØ¯ÙØ¹ Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙŠÙ…ÙŠÙ† ÙˆØ§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© ÙŠØ³Ø§Ø± */
    align-items: center;
    width: 100%;
    padding: 10px 5%;
}

/* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø£ÙØ§ØªØ§Ø± */
.user-controls {
    display: flex;
    align-items: center;
    gap: 10px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ø²Ø± */
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© */
.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
    display: none; /* ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
    border: 2px solid #2563eb;
}


/* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØªÙˆØ¶ÙŠØ­Ù‡ */
.site-logo {
    height: 65px !important; /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø­Ø¬Ù… Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª */
    width: auto !important;
    filter: drop-shadow(0 0 8px rgba(37, 99, 235, 0.5)); /* Ø¸Ù„ Ù…Ø¶ÙŠØ¡ Ø®ÙÙŠÙ Ø®Ù„Ù Ø§Ù„Ù„ÙˆØ¬Ùˆ */
    transition: transform 0.3s ease;
}

.site-logo:hover {
    transform: scale(1.05); /* Ø­Ø±ÙƒØ© ØªÙƒØ¨ÙŠØ± Ø®ÙÙŠÙØ© Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

/* Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙØ®Ù… */
.login-btn {
    background: linear-gradient(135deg, #2563eb, #1d4ed8); /* ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ø£Ø²Ø±Ù‚ */
    color: white;
    border: none;
    padding: 10px 25px;
    border-radius: 50px; /* Ø²ÙˆØ§ÙŠØ§ Ø¯Ø§Ø¦Ø±ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
    font-family: 'Cairo', sans-serif;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3); /* Ø¸Ù„ ØªØ­Øª Ø§Ù„Ø²Ø± */
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.login-btn:hover {
    transform: translateY(-2px); /* ÙŠØ±ØªÙØ¹ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.5); /* ÙŠÙ‚ÙˆÙ‰ Ø§Ù„Ø¸Ù„ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
    background: linear-gradient(135deg, #3b82f6, #2563eb); /* ØªÙØªÙŠØ­ Ø§Ù„Ù„ÙˆÙ† */
}
header h1 {
    text-align: center;
    color: #ffffff;
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    margin: 10px auto; /* Ù…Ø³Ø§ÙØ© Ø·Ø¨ÙŠØ¹ÙŠØ© Ù„Ù„Ø¬ÙˆØ§Ù„ */
    font-size: 1.8rem;  /* Ø­Ø¬Ù… Ø£ØµØºØ± Ù„Ù„Ø¬ÙˆØ§Ù„ Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„Ø´Ø§Ø´Ø© */
    position: relative;
    top: 0;             /* Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø±ÙØ¹ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù„ØªØ¯Ø§Ø®Ù„ */
}

/* Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© (Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±) ÙÙ‚Ø· */


/* Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ± (Ø¨Ø´ÙƒÙ„ Ù…ØªÙ†Ø§Ø³Ù‚) */
.admin-btn {
    background: rgba(255, 255, 255, 0.05);
    color: #cbd5e1;
    border: 1px solid rgba(255, 255, 255, 0.2);
    padding: 8px 18px;
    border-radius: 50px;
    font-size: 13px;
    margin-right: 10px;
    cursor: pointer;
    transition: 0.3s;
}

.admin-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}
.user-avatar{
  width:42px;
  height:42px;
  border-radius:50%;
  border:2px solid rgba(255,255,255,.4);
  cursor:pointer;
  display:none;
}

.admin-btn{
  background:#2563eb;
  color:#fff;
  border:none;
  padding:6px 14px;
  border-radius:10px;
  cursor:pointer;
  font-size:14px;
  display:none;
}
.admin-btn:hover{background:#1d4ed8}

/* ===== Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø³ØªØ§ÙŠÙ„ (Ù…Ø§ ØªØºÙŠØ±) ===== */
:root{
  --accent:#2563eb;
  --card:#ffffff;
  --text:#1e293b;
  --muted:#64748b;
  --star:#facc15;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  color:#fff;
}
header{text-align:center;padding:40px 20px}
header p{color:#cbd5f5}
.search-box{max-width:500px;margin:30px auto}
.search-box input{width:100%;padding:14px;border-radius:12px;border:none}

/* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
.categories-wrapper{
  display:flex;align-items:center;justify-content:center;gap:10px;margin:25px 0;
}
.categories{
  display:flex;gap:30px;overflow-x:auto;scroll-behavior:smooth;scrollbar-width:none;
}
.categories::-webkit-scrollbar{display:none}
.categories button{
  background:none;border:none;color:#e5e7eb;font-size:16px;font-weight:600;cursor:pointer;
}
.categories button:hover{color:#fff}
.arrow{background:none;border:none;color:#cbd5f5;font-size:28px;cursor:pointer}
.container{width:90%;max-width:1200px;margin:40px auto}
.section{margin-bottom:60px}
.section h2{border-right:6px solid var(--accent);padding-right:15px}
/* Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµÙ„Ø­ ÙˆØ§Ù„Ù…Ø¶Ù…ÙˆÙ† */
.cards {
    display: grid !important; /* Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±: ØªØ¸Ù‡Ø± Ø§Ù„ÙƒØ±ÙˆØª Ø¨Ø¬Ø§Ù†Ø¨ Ø¨Ø¹Ø¶Ù‡Ø§ ÙˆØªØ­Øª Ø¨Ø¹Ø¶Ù‡Ø§ */
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 22px;
    padding: 30px 10px 10px 10px; /* Ù…Ø³Ø§Ø­Ø© Ø¹Ù„ÙˆÙŠØ© 30px ØªØ¶Ù…Ù† Ø¹Ø¯Ù… Ù‚Øµ Ø§Ù„ÙƒØ§Ø±Ø¯ Ø¹Ù†Ø¯ Ø±ÙØ¹Ù‡ */
    overflow: visible !important;  /* ÙŠØ³Ù…Ø­ Ù„Ù„ÙƒØ§Ø±Ø¯ Ø¨Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙÙˆÙ‚ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù‚Ø³Ù… */
}

/* ØªØ¹Ø¯ÙŠÙ„ Ø®Ø§Øµ Ù„Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø· */

    
    .card {
        min-width: 85%; /* Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ø±Ø¯ Ù„ÙŠØ¸Ù‡Ø± Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ÙƒØ§Ø±Ø¯ Ø§Ù„ØªØ§Ù„ÙŠ (ØªÙ„Ù…ÙŠØ­ Ù„Ù„Ø³Ø­Ø¨) */
        flex-shrink: 0;
        scroll-snap-align: center;
    }


/* Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ (Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨) */
.card {
    position: relative !important; /* Ø¶Ø±ÙˆØ±ÙŠ Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¨Ø§Ù„Ø¯Ø§Ø®Ù„ */
    overflow: visible !important;   /* ÙŠÙ…Ù†Ø¹ Ù‚Øµ Ø§Ù„ÙƒØ§Ø±Ø¯ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ */
    transition: transform 0.3s ease;
}

.whatsapp-float {
    position: absolute !important;
    bottom: 15px !important;
    left: 15px !important; /* ÙŠØ«Ø¨ØªÙ‡Ø§ ÙÙŠ Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø§Ù„Ø³ÙÙ„Ù‰ Ø§Ù„ÙŠØ³Ø±Ù‰ Ù„Ù„ÙƒØ§Ø±Ø¯ */
    right: auto !important; /* ÙŠÙ„ØºÙŠ Ø£ÙŠ Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ† Ù‚Ø¯ÙŠÙ…Ø© */
    margin: 0 !important;
}
.card{
  background:#fff;color:var(--text);border-radius:16px;padding:22px;
  box-shadow:0 15px 35px rgba(0,0,0,.2);
}
.section { 
    overflow: visible !important; /* Ø§Ø³Ù…Ø­ Ù„Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¹Ù† Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù‚Ø³Ù… */
}
.cards {
    padding-top: 30px !important; /* Ù…Ø³Ø§Ø­Ø© Ø¹Ù„ÙˆÙŠØ© Ù„ÙŠØ±ØªÙØ¹ ÙÙŠÙ‡Ø§ Ø§Ù„ÙƒØ§Ø±Ø¯ */
    overflow: visible !important;
}
/* Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø¸Ù… Ø§Ù„Ù†Øµ Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒØ§Ø±Ø¯ */
.card p {
    display: block;          /* ÙŠØ¬Ø¹Ù„ Ø§Ù„Ù†Øµ ÙŠØ£Ø®Ø° Ø­ÙŠØ²Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„Ø§Ù‹ */
    white-space: normal;      /* Ø£Ù‡Ù… Ø®Ø§ØµÙŠØ©: ØªØ³Ù…Ø­ Ù„Ù„Ù†Øµ Ø¨Ø§Ù„Ù†Ø²ÙˆÙ„ Ù„Ø³Ø·Ø± Ø¬Ø¯ÙŠØ¯ */
    word-wrap: break-word;   /* ØªÙƒØ³Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹ */
    width: 100%;             /* ØªÙ…Ù†Ø¹ Ø§Ù„Ù†Øµ Ù…Ù† ØªØ¬Ø§ÙˆØ² Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ø±Ø¯ */
    line-height: 1.6;        /* ØªØ¨Ø§Ø¹Ø¯ Ø£Ø³Ø·Ø± Ù…Ø±ÙŠØ­ Ù„Ù„Ø¹ÙŠÙ† */
    margin-top: 15px;        /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„ÙˆØµÙ */
    color: var(--muted);     /* Ù„ÙˆÙ† Ø±Ù…Ø§Ø¯ÙŠ Ø®ÙÙŠÙ ÙØ®Ù… */
    text-align: right;       /* Ù…Ø­Ø§Ø°Ø§Ø© Ù„Ù„ÙŠÙ…ÙŠÙ† */
}
.card {
    overflow: visible !important; /* Ù„Ù…Ù†Ø¹ Ù‚Øµ Ø§Ù„Ø¸Ù„ Ø£Ùˆ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
}
.whatsapp-float{
  position:absolute;
  bottom:14px;
  left:14px;
  width:46px;
  height:46px;
  background:#25D366;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-size:22px;
  text-decoration:none;
  box-shadow:0 8px 20px rgba(37,211,102,.5);
  transition:.3s;
  z-index:5;
}

.whatsapp-float:hover{
  transform:scale(1.12);
  box-shadow:0 12px 30px rgba(37,211,102,.8);
}



.card:hover{transform:translateY(-6px)}
.support{
  margin:30px auto;background:linear-gradient(135deg,#22c55e,#16a34a);
  padding:14px 30px;border-radius:16px;width:max-content;
}
.support a{color:#fff;text-decoration:none;font-weight:700}
footer{text-align:center;padding:25px;color:#cbd5f5}
.card{
  overflow:hidden;
}

.card-cover{
  width:calc(100% + 44px);
  height:160px;
  margin:-22px -22px 15px -22px;
}


.card-cover img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-top-left-radius:16px;
  border-top-right-radius:16px;
}
/* ===== ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ===== */
.card-cover-wrap{
  position:relative;
  overflow:hidden;
  border-radius:16px 16px 0 0;
  margin:-22px -22px 15px -22px;
}

.card-cover-wrap img{
  width:100%;
  height:180px;
  object-fit:cover;
  transition:transform .6s ease;
}

/* Gradient */
.card-cover-wrap::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    to top,
    rgba(0,0,0,.55),
    rgba(0,0,0,.15),
    transparent
  );
}

/* Ø§Ø³Ù… Ø§Ù„ÙˆØ±Ø´Ø© */
.card-title{
  position:absolute;
  bottom:14px;
  right:16px;
  left:16px;
  color:#fff;
  font-size:18px;
  font-weight:700;
  z-index:2;
  text-shadow:0 4px 15px rgba(0,0,0,.6);
}

/* Hover Ø²ÙˆÙ… */
.card:hover .card-cover-wrap img{
  transform:scale(1.08);
}
/* ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒØ±ÙˆØª Ø¥Ù„Ù‰ Ø³Ø­Ø¨ Ø£ÙÙ‚ÙŠ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø· */


    .cards::-webkit-scrollbar {
        display: none; /* Ø¥Ø®ÙØ§Ø¡ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± ÙÙŠ ÙƒØ±ÙˆÙ… ÙˆØ³ÙØ§Ø±ÙŠ */
    }

    .card {
        min-width: 85%; /* Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ±Øª Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø´Ø§Ø´Ø© (85% Ù„ÙŠØ¸Ù‡Ø± Ø·Ø±Ù Ø§Ù„ÙƒØ±Øª Ø§Ù„ØªØ§Ù„ÙŠ) */
        flex-shrink: 0; /* Ù…Ù†Ø¹ Ø§Ù„ÙƒØ±Øª Ù…Ù† Ø§Ù„Ø§Ù†ÙƒÙ…Ø§Ø´ */
        scroll-snap-align: center; /* Ø¬Ø°Ø¨ Ø§Ù„ÙƒØ±Øª Ù„Ù„Ù…Ù†ØªØµÙ */
        margin-bottom: 10px;
    }

    /* ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø³ÙŠØ· Ù„Ø­Ø¬Ù… Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ Ù„ÙŠÙƒÙˆÙ† Ù…ØªÙ†Ø§Ø³Ù‚Ø§Ù‹ */
    header h1 {
        font-size: 1.8rem;
        top: -10px;
    }

    .auth-box {
        padding: 5px 3%;
    }

    .site-logo {
        height: 50px !important;
    }


    
    .site-logo {
        height: 45px !important; /* ØªØµØºÙŠØ± Ø§Ù„Ù„ÙˆØ¬Ùˆ Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù„ */
    }

    .login-btn {
        padding: 8px 15px; /* ØªØµØºÙŠØ± Ø§Ù„Ø²Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
        font-size: 13px;
    }

#userPanel {
    display: flex;
    align-items: center;
    gap: 12px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ø²Ø± */
    order: 2;   /* Ù„Ø¶Ù…Ø§Ù† Ø¨Ù‚Ø§Ø¦Ù‡Ù… ÙÙŠ Ø¬Ù‡Ø© Ø§Ù„ÙŠØ³Ø§Ø± ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ù€ flex */
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--accent);
    display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
}
</style>


<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
import { getFirestore, collection, getDocs }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBdhesRwD2eiDvqqcMGhC59U4whICwTO3E",
  authDomain: "sanaeya-samtah.firebaseapp.com",
  projectId: "sanaeya-samtah",
  storageBucket: "sanaeya-samtah.firebasestorage.app",
  messagingSenderId: "1092994215610",
  appId: "1:1092994215610:web:e68b5a3eccb24235d39c83"
};


const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

/* ğŸ‘‘ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ† */
const ADMINS = [
  "heemoxo41430@gmail.com",
  "heemor14@gmail.com"
];

window.login = async ()=>{
  await signInWithPopup(auth, provider);
};

/* Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
onAuthStateChanged(auth, user=>{
  if(!user) return;
  document.querySelector(".login-btn").style.display="none";

  const avatar=document.getElementById("avatar");
  avatar.src=user.photoURL;
  avatar.style.display="block";

  if(ADMINS.includes(user.email)){
    document.getElementById("adminBtn").style.display="block";
  }
});

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ±Ø´ */
async function load(){
 
Array(4).fill(`
  <div class="card skeleton">
    <div class="skeleton-img"></div>
    <div class="skeleton-text"></div>
    <div class="skeleton-text" style="width:70%"></div>
  </div>
`).join("");

  const q=await getDocs(collection(db,"workshops"));
  q.forEach(d=>{
    const w=d.data();
    const c=document.createElement("div");
    c.className="card";
    c.style.cursor="pointer";
c.onclick=()=>{
 c.onclick = () => {
  location.href = "details.html?id=" + d.id;
};

};

 c.innerHTML = `
  ${w.cover ? `
    <div class="card-cover-wrap">
      <img src="${w.cover}">
      <div class="card-title">${w.name}</div>
    </div>
  ` : `<h3>${w.name}</h3>`}

  <p>${w.spec}</p>

  <a class="whatsapp-float"
     href="https://wa.me/${w.phone}"
     target="_blank"
     onclick="event.stopPropagation()">
    ğŸ’¬
  </a>
`;


    document.getElementById(w.cat+"Cards").appendChild(c);
  });
  
}
window.onload=load;

window.goTo=id=>{
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
};
window.scrollCats=v=>{
  document.getElementById("categories").scrollBy({left:v,behavior:"smooth"});
  
};

</script>
</head>

<body>

<header>
  <div class="auth-box">
    <img src="img/logo.PNG" class="site-logo">

    <div class="user-controls">
    <button id="adminBtn" class="admin-btn" style="display:none;">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø·ÙˆØ±</button>
    <img id="avatar" class="user-avatar" style="display:none;">
    <button class="login-btn" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>
    <button class="login-btn" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </div>
  </div>
  <h1>ØµÙ†Ø§Ø¹ÙŠØªÙƒ</h1>
  <p>Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ ÙŠØ¬Ù…Ø¹ ÙˆØ±Ø´ ÙˆØµÙ†Ø§Ø¹ÙŠØ© Ø¬Ø§Ø²Ø§Ù† ÙˆÙ‚Ø±ÙŠØ¨Ø§ Ø§Ù„Ù…Ù…Ù„ÙƒÙ‡</p>
  <div class="categories-wrapper">
    <button class="arrow" onclick="scrollCats(200)">â€¹</button>
    <div class="categories" id="categories">
      <button onclick="goTo('cars')">ğŸš— Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</button>
      <button onclick="goTo('metal')">ğŸ”¨ Ø§Ù„Ø­Ø¯Ø§Ø¯Ø©</button>
      <button onclick="goTo('sofa')">ğŸ›‹ï¸ Ø§Ù„ÙƒÙ†Ø¨</button>
      <button onclick="goTo('aluminum')">ğŸªŸ Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</button>
    </div>
    <button class="arrow" onclick="scrollCats(-200)">â€º</button>
  </div>

  <div class="search-box">
    <input placeholder="ğŸ” Ø§Ø¨Ø­Ø«">
  </div>
</header>

<div class="container">
<section class="section" id="cars"><h2>ÙˆØ±Ø´ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h2><div class="cards" id="carsCards"></div></section>
<section class="section" id="metal"><h2>ÙˆØ±Ø´ Ø§Ù„Ø­Ø¯Ø§Ø¯Ø©</h2><div class="cards" id="metalCards"></div></section>
<section class="section" id="sofa"><h2>ÙˆØ±Ø´ Ø§Ù„ÙƒÙ†Ø¨</h2><div class="cards" id="sofaCards"></div></section>
<section class="section" id="aluminum"><h2>ÙˆØ±Ø´ Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</h2><div class="cards" id="aluminumCards"></div></section>
</div>

<footer>
  <div class="support">
    ğŸ’¬ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ:
    <a href="https://wa.me/966531991617">0531991617</a>
  </div>
  <div>  ØµÙ†Ø§Ø¹ÙŠØªÙƒ | Â© 2025</div>
</footer>

</body>
</html>
